# UI plans / карта текущего интерфейса

## 1) Где лежит главный layout (index.html / app / components)
- Главная HTML-разметка интерфейса находится в `frontend/index.html`.
- Базовая структура экрана: верхняя панель `.top` + основной контейнер `.grid` (левая колонка + чат).
- Логика приложения и UI-компонентов находится в `frontend/app.js` (в одном файле).
- Ключевые точки интерфейса:
  - левый список чатов: `#sidebar`, `#chatlist`
  - область сообщений: `#msgs`
  - composer (поле, вложения, отправка): `.composer`

## 2) Где стили (css/scss/tailwind)
- Все стили хранятся в `frontend/styles.css`.
- SCSS и Tailwind в проекте не используются.
- Адаптивность описана через media queries в том же CSS.

## 3) Где модалки / меню / чат-лист / сообщения / composer
- **Меню**
  - профильное меню в top bar: `#profileMenu`
  - меню редких действий в левой колонке: `#sidebarMoreMenu` (кнопка `#btnSidebarMore`)
- **Модалки / оверлеи / шиты**
  - авторизация: `#authOverlay`
  - создание чата: `#sheetOverlay`
  - профиль: `#profileOverlay`
  - контакты: `#contactsOverlay`
  - инфо чата: `#chatInfoOverlay`
  - профиль пользователя: `#userProfileOverlay`
  - просмотр медиа: `#mediaViewerOverlay`
  - предпросмотр голосового: `#voicePreviewOverlay`
  - звонок: `#callOverlay`
- **Чат-лист**
  - контейнер: `#chatlist`
  - логика фильтрации/рендера: `getFilteredChats()` и `renderChatList()` в `frontend/app.js`
- **Сообщения**
  - контейнер: `#msgs`
  - загрузка и пагинация: `loadHistory()` и `loadOlderMessages()`
- **Composer**
  - контейнер: `.composer`
  - отправка: `send()`

## 4) Какие есть состояния (loading / error / empty)
- **Loading**
  - первичная загрузка истории: `loadHistory()`
  - дозагрузка старых сообщений: `loadOlderMessages()`
- **Error**
  - сетевые и API-ошибки: системные сообщения `❌ ...`
  - офлайн-режим: баннер `#offlineBanner`
- **Empty**
  - пустой список чатов: `Нет чатов. Создай ➕`
  - пустая выдача поиска: `Ничего не найдено`
  - пустой чат: `Нет сообщений`

## 5) Рамка текущей левой колонки
- Оставлены только основные элементы:
  - поиск
  - фильтры (максимум 3): `Все / Личные / Группы`
  - список чатов
  - кнопка `+` для создания
- Редкие действия (`контакты`, `история`, `тихий режим`, `пригласить`) вынесены в меню `…`.
- «Простыня подсказок» внизу левой колонки скрыта с главного экрана.

## 6) Чеклист ручной проверки UI
- [ ] Открыть `/` и убедиться, что верхняя панель, левая колонка и чат-область отображаются.
- [ ] Проверить левую колонку: видны только поиск, фильтры (`Все/Личные/Группы`), список чатов, кнопки `+` и `…`.
- [ ] Нажать `…` и проверить, что в меню доступны редкие действия (контакты/история/тихий режим/пригласить/обновить).
- [ ] Убедиться, что «простыня подсказок» отсутствует на главном экране.
- [ ] Переключить фильтры (`Все/Личные/Группы`) и проверить обновление списка чатов.
- [ ] Проверить, что поиск по чатам фильтрует список без ошибок.
- [ ] Проверить мобильный сценарий: открытие/закрытие sidebar и меню `…`, закрытие по клику вне меню.
