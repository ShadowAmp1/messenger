<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Mini Messenger</title>

    <link rel="stylesheet" href="/frontend/styles.css" />

</head>

<body>
  <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>

  <div class="wrap">
    <div class="card">
      <div class="top">
        <div class="top-left">
          <button class="iconbtn" id="btnToggleSidebar" type="button" title="–ú–µ–Ω—é" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-expanded="false" aria-controls="sidebar">‚ò∞</button>
          <div class="min-0">
            <div class="brand">Mini Messenger</div>
            <div class="small">–£–¥–æ–±–Ω—ã–π —á–∞—Ç –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –ü–ö</div>
          </div>
        </div>
        <div class="row">
          <div class="pill" id="whoami">
            <img id="topAvatar" class="avatar" alt="avatar"/>
            <span id="whoText">–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</span>
          </div>
          <button class="btn" id="btnThemeToggle" type="button" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô –¢–µ–º–∞</button>
          <button class="btn is-hidden" id="btnProfile" type="button">–ü—Ä–æ—Ñ–∏–ª—å</button>
          <button class="btn" id="btnOpenAuth" type="button">–í–æ–π—Ç–∏</button>
          <button class="btn is-hidden" id="btnLogout" type="button">–í—ã–π—Ç–∏</button>
        </div>
      </div>

      <div class="grid">
        <aside class="sidebar" id="sidebar" aria-hidden="true">
          <div class="sidebar-inner">
            <div class="row row-between">
              <div><b>–ß–∞—Ç—ã</b></div>
              <div class="iconbar">
                <button class="iconbtn" id="btnOpenCreateGroup" type="button" title="–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç" aria-label="–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç">‚ûï</button>
                <button class="iconbtn" id="btnOpenCreateDM" type="button" title="–°–æ–∑–¥–∞—Ç—å –ª–∏—á–Ω—ã–π —á–∞—Ç" aria-label="–°–æ–∑–¥–∞—Ç—å –ª–∏—á–Ω—ã–π —á–∞—Ç">üí¨</button>
                <button class="iconbtn" id="btnRefreshChats" type="button" title="–û–±–Ω–æ–≤–∏—Ç—å —á–∞—Ç—ã" aria-label="–û–±–Ω–æ–≤–∏—Ç—å —á–∞—Ç—ã">‚ü≥</button>
              </div>
            </div>

            <div class="sep"></div>

            <div class="row row-gap-8">
              <button class="btn flex-1" id="btnLoadHistory" type="button">–ò—Å—Ç–æ—Ä–∏—è</button>
              <button class="btn flex-1" id="btnContacts" type="button">–ö–æ–Ω—Ç–∞–∫—Ç—ã</button>
              <button class="btn flex-1" id="btnInvite" type="button">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</button>
              <button class="btn flex-1" id="btnMute" type="button">–¢–∏—Ö–∏–π —Ä–µ–∂–∏–º</button>
            </div>

            <div class="sep"></div>

            <div class="chatlist" id="chatlist"></div>

            <div class="small mt-auto">
              ‚ûï –≥—Ä—É–ø–ø–∞ ‚Ä¢ üí¨ –ª–∏—á–Ω—ã–π —á–∞—Ç ‚Ä¢ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –≥—Ä—É–ø–ø—ã) ‚Ä¢ üóë —É–¥–∞–ª–∏—Ç—å —á–∞—Ç ‚Ä¢ –ü–ö–ú/–¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é ‚Üí –∏–∑–º–µ–Ω–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å ‚Ä¢ –ø–µ—á–∞—Ç–∞–µ—Ç‚Ä¶ ‚Ä¢ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
            </div>
          </div>
        </aside>

        <div class="chat">
          <button class="chat-head" id="btnChatInfo" type="button">
            <div>
              <div id="chatHeadTitle">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
              <div class="small" id="chatHeadSub">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –º–µ–¥–∏–∞</div>
            </div>
          </button>
          <div id="storiesBar" class="stories-bar"></div>
          <div id="pinsBar" class="small pins-bar is-hidden"></div>
          <div class="msgs" id="msgs"></div>
          <div class="to-bottom" id="btnToBottom" title="–í–Ω–∏–∑">‚¨áÔ∏è</div>

          <div class="composer">
            <button id="btnAttach" type="button" title="–§–æ—Ç–æ/–í–∏–¥–µ–æ/–ê—É–¥–∏–æ">üìé</button>
            <input id="file" class="is-hidden" type="file" accept="image/*,video/*,audio/*" />
            <button id="btnRecHold" type="button" title="–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥–ª—è –∑–∞–ø–∏—Å–∏">üéôÔ∏è</button>
            <div id="replyBox" class="small reply-box is-hidden"></div>
            <input id="text" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ." />
            <button id="btnSend" type="button">‚û§</button>
          </div>

          <div class="statusbar">
            <div class="small">
              <span id="status">‚Äî</span>
              <span class="typing" id="typing"></span>
            </div>
            <div class="pill" id="net">–Ω–µ –≤ —Å–µ—Ç–∏</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- AUTH -->
  <div class="overlay" id="authOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modal-top">
        <div class="tabs">
          <button class="tab active" id="tabLogin" type="button">–í—Ö–æ–¥</button>
          <button class="tab" id="tabRegister" type="button">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        </div>
        <button class="xbtn" id="btnCloseAuth" type="button">‚úï</button>
      </div>
      <div class="modal-body">
        <input id="authUsername" placeholder="–ª–æ–≥–∏–Ω (3-20: a-z 0-9 _)" autocomplete="username" />
        <input id="authPassword" placeholder="–ø–∞—Ä–æ–ª—å (–º–∏–Ω 6)" type="password" autocomplete="current-password" />
        <div class="err" id="authError"></div>
        <div class="btnrow"><button id="btnAuthSubmit" type="button">–í—Ö–æ–¥</button></div>
        <div class="small">–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–∫–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</div>
      </div>
    </div>
  </div>

  <!-- CREATE SHEET -->
  <div class="sheet-overlay" id="sheetOverlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-top">
        <b id="sheetTitle">–°–æ–∑–¥–∞—Ç—å</b>
        <button class="xbtn" id="btnCloseSheet" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <input id="sheetInput" placeholder="" />
        <div class="sheet-actions">
          <button id="btnSheetOk" type="button">OK</button>
          <button id="btnSheetCancel" type="button" class="danger">–û—Ç–º–µ–Ω–∞</button>
        </div>
        <div class="small hint-muted" id="sheetHint"></div>
      </div>
    </div>
  </div>

  <!-- PROFILE -->
  <div class="sheet-overlay" id="profileOverlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-top">
        <b>–ü—Ä–æ—Ñ–∏–ª—å</b>
        <button class="xbtn" id="btnCloseProfile" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <div class="small">–ò–º—è</div>
        <input id="profileDisplayName" placeholder="–ö–∞–∫ —Ç–µ–±—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å" />
        <div class="small">–û —Å–µ–±–µ</div>
        <textarea id="profileBio" placeholder="–ù–µ–º–Ω–æ–≥–æ –æ —Å–µ–±–µ" rows="3"></textarea>
        <button id="btnSaveProfile" class="btn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
        <div class="sep"></div>
        <div class="small">–ê–≤–∞—Ç–∞—Ä</div>
        <input id="avatarFile" type="file" accept="image/*"/>
        <button id="btnUploadAvatar" class="btn" type="button">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        <div class="sep"></div>
        <div class="small">–ò—Å—Ç–æ—Ä–∏–∏ (24—á)</div>
        <input id="storyFile" type="file" accept="image/*,video/*"/>
        <input id="storyCaption" placeholder="–ü–æ–¥–ø–∏—Å—å –∫ –∏—Å—Ç–æ—Ä–∏–∏" maxlength="160"/>
        <button id="btnUploadStory" class="btn" type="button">–í—ã–ª–æ–∂–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
        <div id="myStories" class="small"></div>
        <div class="small" id="profileHint">‚Äî</div>
      </div>
    </div>
  </div>



  <!-- CONTACTS -->
  <div class="sheet-overlay" id="contactsOverlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-top">
        <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã</b>
        <button class="xbtn" id="btnCloseContacts" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <div class="row">
          <input id="contactUsername" placeholder="username" />
          <button class="btn" id="btnAddContact" type="button">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div id="contactsList" class="chatlist"></div>
      </div>
    </div>
  </div>

  <!-- CHAT INFO -->
  <div class="sheet-overlay" id="chatInfoOverlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-top">
        <b id="chatInfoTitle">–ò–Ω—Ñ–æ —á–∞—Ç–∞</b>
        <button class="xbtn" id="btnCloseChatInfo" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <input id="chatInfoSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É" />
        <button id="btnChatInfoSearch" class="btn" type="button">–ü–æ–∏—Å–∫</button>
        <div id="chatInfoResults" class="small"></div>
        <div class="sep"></div>
        <div class="small" id="chatInfoMedia"></div>
        <div class="small" id="chatInfoLinks"></div>
        <div class="small" id="chatInfoMembers"></div>
      </div>
    </div>
  </div>



  <!-- USER PROFILE -->
  <div class="sheet-overlay" id="userProfileOverlay" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheet-top">
        <b id="userProfileTitle">–ü—Ä–æ—Ñ–∏–ª—å</b>
        <button class="xbtn" id="btnCloseUserProfile" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <img id="userProfileAvatar" class="avatar-large" alt="avatar" style="display:none;"/>
        <div class="small" id="userProfileHandle">@user</div>
        <div class="small" id="userProfileBio">‚Äî</div>
        <div class="sep"></div>
        <b>–ò—Å—Ç–æ—Ä–∏–∏</b>
        <div id="userProfileStories" class="chatlist"></div>
        <div class="sep"></div>
        <b>–ê–≤–∞—Ç–∞—Ä—ã (–Ω–æ–≤—ã–µ –∏ —Å—Ç–∞—Ä—ã–µ)</b>
        <div id="userProfileAvatars" class="chatlist"></div>
      </div>
    </div>
  </div>

  <!-- VOICE PREVIEW -->
  <div class="overlay" id="voicePreviewOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modal-top">
        <b>–ì–æ–ª–æ—Å–æ–≤–æ–µ</b>
        <button class="xbtn" id="btnCloseVoicePreview" type="button">‚úï</button>
      </div>
      <div class="modal-body">
        <div id="voicePreviewPlayer"></div>
        <div class="btnrow btnrow-inline">
          <button id="btnSendVoiceNow" class="flex-1" type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          <button id="btnCancelVoiceNow" type="button" class="danger flex-1">–û—Ç–º–µ–Ω–∞</button>
        </div>
        <div class="small" id="voicePreviewHint">‚Äî</div>
      </div>
    </div>
  </div>

  <!-- CONTEXT MENU -->
  <div class="ctx" id="ctxMenu">
    <button id="ctxReply">–û—Ç–≤–µ—Ç–∏—Ç—å</button>
    <button id="ctxReact">üëç –†–µ–∞–∫—Ü–∏—è</button>
    <button id="ctxPin">üìå –ó–∞–∫—Ä–µ–ø–∏—Ç—å/–æ—Ç–∫—Ä–µ–ø–∏—Ç—å</button>
    <button id="ctxEdit">–ò–∑–º–µ–Ω–∏—Ç—å</button>
    <button id="ctxDeleteMe">–£–¥–∞–ª–∏—Ç—å —É –º–µ–Ω—è</button>
    <button id="ctxDeleteAll">–£–¥–∞–ª–∏—Ç—å —É –≤—Å–µ—Ö</button>
    <button id="ctxCancel" class="danger">–û—Ç–º–µ–Ω–∞</button>
  </div>

  <script src="/frontend/app.js"></script>

</body>
</html>
